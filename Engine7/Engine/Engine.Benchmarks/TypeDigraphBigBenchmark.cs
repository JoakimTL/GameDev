using BenchmarkDotNet.Attributes;
using Engine.Structures;

namespace Engine.Benchmarks;

[MemoryDiagnoser]
public class TypeDigraphBigBenchmark {
	public sealed class TestProcess;

	[Do.Before<Node55, TestProcess>]
	public sealed class Node0;

	[Do.Before<Node61, TestProcess>]
	public sealed class Node1;

	[Do.Before<Node27, TestProcess>]
	[Do.Before<Node99, TestProcess>]
	public sealed class Node2;

	[Do.Before<Node1, TestProcess>]
	[Do.Before<Node71, TestProcess>]
	[Do.Before<Node91, TestProcess>]
	[Do.Before<Node19, TestProcess>]
	public sealed class Node3;

	[Do.Before<Node88, TestProcess>]
	[Do.Before<Node61, TestProcess>]
	[Do.Before<Node13, TestProcess>]
	[Do.Before<Node2, TestProcess>]
	[Do.Before<Node50, TestProcess>]
	[Do.Before<Node12, TestProcess>]
	public sealed class Node4;

	[Do.Before<Node53, TestProcess>]
	[Do.Before<Node44, TestProcess>]
	[Do.Before<Node59, TestProcess>]
	[Do.Before<Node38, TestProcess>]
	public sealed class Node5;

	[Do.Before<Node20, TestProcess>]
	[Do.Before<Node4, TestProcess>]
	public sealed class Node6;

	[Do.Before<Node27, TestProcess>]
	[Do.Before<Node77, TestProcess>]
	[Do.Before<Node21, TestProcess>]
	public sealed class Node7;

	[Do.Before<Node19, TestProcess>]
	[Do.Before<Node48, TestProcess>]
	[Do.Before<Node7, TestProcess>]
	[Do.Before<Node40, TestProcess>]
	[Do.Before<Node27, TestProcess>]
	[Do.Before<Node46, TestProcess>]
	public sealed class Node8;

	[Do.Before<Node76, TestProcess>]
	[Do.Before<Node0, TestProcess>]
	[Do.Before<Node95, TestProcess>]
	public sealed class Node9;

	[Do.Before<Node69, TestProcess>]
	public sealed class Node10;

	public sealed class Node11;

	[Do.Before<Node54, TestProcess>]
	public sealed class Node12;

	[Do.Before<Node54, TestProcess>]
	[Do.Before<Node34, TestProcess>]
	[Do.Before<Node3, TestProcess>]
	[Do.Before<Node95, TestProcess>]
	[Do.Before<Node66, TestProcess>]
	[Do.Before<Node45, TestProcess>]
	public sealed class Node13;

	[Do.Before<Node26, TestProcess>]
	[Do.Before<Node90, TestProcess>]
	[Do.Before<Node34, TestProcess>]
	[Do.Before<Node17, TestProcess>]
	[Do.Before<Node25, TestProcess>]
	[Do.Before<Node58, TestProcess>]
	public sealed class Node14;

	public sealed class Node15;

	[Do.Before<Node93, TestProcess>]
	[Do.Before<Node66, TestProcess>]
	public sealed class Node16;

	[Do.Before<Node3, TestProcess>]
	[Do.Before<Node58, TestProcess>]
	[Do.Before<Node70, TestProcess>]
	[Do.Before<Node18, TestProcess>]
	public sealed class Node17;

	[Do.Before<Node68, TestProcess>]
	[Do.Before<Node89, TestProcess>]
	[Do.Before<Node94, TestProcess>]
	[Do.Before<Node52, TestProcess>]
	public sealed class Node18;

	[Do.Before<Node69, TestProcess>]
	[Do.Before<Node18, TestProcess>]
	[Do.Before<Node82, TestProcess>]
	public sealed class Node19;

	[Do.Before<Node68, TestProcess>]
	[Do.Before<Node94, TestProcess>]
	[Do.Before<Node3, TestProcess>]
	[Do.Before<Node21, TestProcess>]
	public sealed class Node20;

	[Do.Before<Node65, TestProcess>]
	public sealed class Node21;

	[Do.Before<Node54, TestProcess>]
	[Do.Before<Node72, TestProcess>]
	public sealed class Node22;

	[Do.Before<Node70, TestProcess>]
	public sealed class Node23;

	[Do.Before<Node58, TestProcess>]
	public sealed class Node24;

	[Do.Before<Node35, TestProcess>]
	[Do.Before<Node55, TestProcess>]
	[Do.Before<Node84, TestProcess>]
	[Do.Before<Node19, TestProcess>]
	[Do.Before<Node52, TestProcess>]
	public sealed class Node25;

	[Do.Before<Node52, TestProcess>]
	[Do.Before<Node23, TestProcess>]
	[Do.Before<Node79, TestProcess>]
	[Do.Before<Node32, TestProcess>]
	[Do.Before<Node28, TestProcess>]
	public sealed class Node26;

	[Do.Before<Node17, TestProcess>]
	[Do.Before<Node65, TestProcess>]
	public sealed class Node27;

	[Do.Before<Node24, TestProcess>]
	[Do.Before<Node56, TestProcess>]
	[Do.Before<Node69, TestProcess>]
	public sealed class Node28;

	[Do.Before<Node43, TestProcess>]
	[Do.Before<Node78, TestProcess>]
	public sealed class Node29;

	[Do.Before<Node19, TestProcess>]
	[Do.Before<Node70, TestProcess>]
	[Do.Before<Node97, TestProcess>]
	public sealed class Node30;

	[Do.Before<Node29, TestProcess>]
	[Do.Before<Node90, TestProcess>]
	public sealed class Node31;

	public sealed class Node32;

	[Do.Before<Node28, TestProcess>]
	public sealed class Node33;

	[Do.Before<Node58, TestProcess>]
	[Do.Before<Node46, TestProcess>]
	[Do.Before<Node17, TestProcess>]
	[Do.Before<Node1, TestProcess>]
	[Do.Before<Node57, TestProcess>]
	public sealed class Node34;

	[Do.Before<Node38, TestProcess>]
	[Do.Before<Node18, TestProcess>]
	[Do.Before<Node12, TestProcess>]
	[Do.Before<Node46, TestProcess>]
	[Do.Before<Node61, TestProcess>]
	public sealed class Node35;

	public sealed class Node36;

	[Do.Before<Node2, TestProcess>]
	public sealed class Node37;

	[Do.Before<Node22, TestProcess>]
	[Do.Before<Node51, TestProcess>]
	public sealed class Node38;

	[Do.Before<Node26, TestProcess>]
	[Do.Before<Node66, TestProcess>]
	[Do.Before<Node82, TestProcess>]
	public sealed class Node39;

	[Do.Before<Node16, TestProcess>]
	[Do.Before<Node27, TestProcess>]
	[Do.Before<Node5, TestProcess>]
	public sealed class Node40;

	[Do.Before<Node5, TestProcess>]
	[Do.Before<Node43, TestProcess>]
	[Do.Before<Node44, TestProcess>]
	public sealed class Node41;

	[Do.Before<Node4, TestProcess>]
	[Do.Before<Node71, TestProcess>]
	[Do.Before<Node24, TestProcess>]
	public sealed class Node42;

	[Do.Before<Node84, TestProcess>]
	[Do.Before<Node47, TestProcess>]
	[Do.Before<Node7, TestProcess>]
	[Do.Before<Node68, TestProcess>]
	public sealed class Node43;

	[Do.Before<Node91, TestProcess>]
	[Do.Before<Node28, TestProcess>]
	[Do.Before<Node22, TestProcess>]
	[Do.Before<Node6, TestProcess>]
	public sealed class Node44;

	[Do.Before<Node25, TestProcess>]
	[Do.Before<Node75, TestProcess>]
	public sealed class Node45;

	[Do.Before<Node98, TestProcess>]
	public sealed class Node46;

	public sealed class Node47;

	[Do.Before<Node53, TestProcess>]
	[Do.Before<Node88, TestProcess>]
	[Do.Before<Node99, TestProcess>]
	[Do.Before<Node58, TestProcess>]
	[Do.Before<Node95, TestProcess>]
	[Do.Before<Node62, TestProcess>]
	public sealed class Node48;

	[Do.Before<Node2, TestProcess>]
	[Do.Before<Node26, TestProcess>]
	[Do.Before<Node10, TestProcess>]
	[Do.Before<Node18, TestProcess>]
	public sealed class Node49;

	[Do.Before<Node22, TestProcess>]
	[Do.Before<Node21, TestProcess>]
	[Do.Before<Node16, TestProcess>]
	[Do.Before<Node9, TestProcess>]
	public sealed class Node50;

	[Do.Before<Node0, TestProcess>]
	[Do.Before<Node15, TestProcess>]
	[Do.Before<Node71, TestProcess>]
	public sealed class Node51;

	[Do.Before<Node70, TestProcess>]
	public sealed class Node52;

	[Do.Before<Node3, TestProcess>]
	public sealed class Node53;

	[Do.Before<Node88, TestProcess>]
	public sealed class Node54;

	[Do.Before<Node46, TestProcess>]
	public sealed class Node55;

	[Do.Before<Node74, TestProcess>]
	[Do.Before<Node30, TestProcess>]
	[Do.Before<Node73, TestProcess>]
	public sealed class Node56;

	[Do.Before<Node65, TestProcess>]
	[Do.Before<Node23, TestProcess>]
	[Do.Before<Node43, TestProcess>]
	[Do.Before<Node74, TestProcess>]
	[Do.Before<Node63, TestProcess>]
	[Do.Before<Node58, TestProcess>]
	[Do.Before<Node50, TestProcess>]
	public sealed class Node57;

	[Do.Before<Node47, TestProcess>]
	[Do.Before<Node59, TestProcess>]
	public sealed class Node58;

	[Do.Before<Node73, TestProcess>]
	[Do.Before<Node55, TestProcess>]
	public sealed class Node59;

	[Do.Before<Node53, TestProcess>]
	[Do.Before<Node55, TestProcess>]
	[Do.Before<Node19, TestProcess>]
	public sealed class Node60;

	[Do.Before<Node88, TestProcess>]
	[Do.Before<Node80, TestProcess>]
	public sealed class Node61;

	[Do.Before<Node68, TestProcess>]
	[Do.Before<Node45, TestProcess>]
	public sealed class Node62;

	[Do.Before<Node87, TestProcess>]
	[Do.Before<Node95, TestProcess>]
	public sealed class Node63;

	[Do.Before<Node14, TestProcess>]
	[Do.Before<Node58, TestProcess>]
	[Do.Before<Node49, TestProcess>]
	public sealed class Node64;

	[Do.Before<Node55, TestProcess>]
	[Do.Before<Node88, TestProcess>]
	[Do.Before<Node67, TestProcess>]
	[Do.Before<Node33, TestProcess>]
	public sealed class Node65;

	[Do.Before<Node53, TestProcess>]
	[Do.Before<Node32, TestProcess>]
	public sealed class Node66;

	[Do.Before<Node12, TestProcess>]
	[Do.Before<Node69, TestProcess>]
	[Do.Before<Node66, TestProcess>]
	public sealed class Node67;

	public sealed class Node68;

	[Do.Before<Node96, TestProcess>]
	[Do.Before<Node24, TestProcess>]
	public sealed class Node69;

	[Do.Before<Node47, TestProcess>]
	[Do.Before<Node36, TestProcess>]
	[Do.Before<Node38, TestProcess>]
	public sealed class Node70;

	[Do.Before<Node73, TestProcess>]
	public sealed class Node71;

	public sealed class Node72;

	[Do.Before<Node78, TestProcess>]
	[Do.Before<Node76, TestProcess>]
	[Do.Before<Node88, TestProcess>]
	[Do.Before<Node36, TestProcess>]
	public sealed class Node73;

	[Do.Before<Node68, TestProcess>]
	public sealed class Node74;

	[Do.Before<Node15, TestProcess>]
	[Do.Before<Node80, TestProcess>]
	[Do.Before<Node61, TestProcess>]
	[Do.Before<Node46, TestProcess>]
	public sealed class Node75;

	[Do.Before<Node95, TestProcess>]
	public sealed class Node76;

	[Do.Before<Node95, TestProcess>]
	[Do.Before<Node65, TestProcess>]
	[Do.Before<Node33, TestProcess>]
	[Do.Before<Node39, TestProcess>]
	[Do.Before<Node49, TestProcess>]
	[Do.Before<Node90, TestProcess>]
	public sealed class Node77;

	[Do.Before<Node12, TestProcess>]
	public sealed class Node78;

	public sealed class Node79;

	[Do.Before<Node83, TestProcess>]
	public sealed class Node80;

	public sealed class Node81;

	[Do.Before<Node0, TestProcess>]
	[Do.Before<Node84, TestProcess>]
	[Do.Before<Node61, TestProcess>]
	[Do.Before<Node63, TestProcess>]
	[Do.Before<Node75, TestProcess>]
	public sealed class Node82;

	[Do.Before<Node95, TestProcess>]
	[Do.Before<Node93, TestProcess>]
	public sealed class Node83;

	[Do.Before<Node12, TestProcess>]
	public sealed class Node84;

	[Do.Before<Node1, TestProcess>]
	[Do.Before<Node13, TestProcess>]
	[Do.Before<Node74, TestProcess>]
	[Do.Before<Node53, TestProcess>]
	[Do.Before<Node37, TestProcess>]
	public sealed class Node85;

	[Do.Before<Node64, TestProcess>]
	public sealed class Node86;

	[Do.Before<Node93, TestProcess>]
	public sealed class Node87;

	[Do.Before<Node95, TestProcess>]
	public sealed class Node88;

	[Do.Before<Node0, TestProcess>]
	[Do.Before<Node15, TestProcess>]
	public sealed class Node89;

	[Do.Before<Node73, TestProcess>]
	[Do.Before<Node59, TestProcess>]
	[Do.Before<Node20, TestProcess>]
	[Do.Before<Node50, TestProcess>]
	public sealed class Node90;

	[Do.Before<Node28, TestProcess>]
	public sealed class Node91;

	[Do.Before<Node96, TestProcess>]
	[Do.Before<Node22, TestProcess>]
	[Do.Before<Node7, TestProcess>]
	public sealed class Node92;

	[Do.Before<Node70, TestProcess>]
	[Do.Before<Node96, TestProcess>]
	public sealed class Node93;

	public sealed class Node94;

	[Do.Before<Node94, TestProcess>]
	[Do.Before<Node96, TestProcess>]
	public sealed class Node95;

	[Do.Before<Node11, TestProcess>]
	public sealed class Node96;

	[Do.Before<Node32, TestProcess>]
	public sealed class Node97;

	[Do.Before<Node95, TestProcess>]
	public sealed class Node98;

	[Do.Before<Node91, TestProcess>]
	public sealed class Node99;


	private IEnumerable<Type>? _currentTree;
	private readonly TypeDigraph<TestProcess> _types = new();

	[GlobalSetup]
	public void Setup() {
		this._types.Add<Node0>();
		this._types.Add<Node1>();
		this._types.Add<Node2>();
		this._types.Add<Node3>();
		this._types.Add<Node4>();
		this._types.Add<Node5>();
		this._types.Add<Node6>();
		this._types.Add<Node7>();
		this._types.Add<Node8>();
		this._types.Add<Node9>();
		this._types.Add<Node10>();
		this._types.Add<Node11>();
		this._types.Add<Node12>();
		this._types.Add<Node13>();
		this._types.Add<Node14>();
		this._types.Add<Node15>();
		this._types.Add<Node16>();
		this._types.Add<Node17>();
		this._types.Add<Node18>();
		this._types.Add<Node19>();
		this._types.Add<Node20>();
		this._types.Add<Node21>();
		this._types.Add<Node22>();
		this._types.Add<Node23>();
		this._types.Add<Node24>();
		this._types.Add<Node25>();
		this._types.Add<Node26>();
		this._types.Add<Node27>();
		this._types.Add<Node28>();
		this._types.Add<Node29>();
		this._types.Add<Node30>();
		this._types.Add<Node31>();
		this._types.Add<Node32>();
		this._types.Add<Node33>();
		this._types.Add<Node34>();
		this._types.Add<Node35>();
		this._types.Add<Node36>();
		this._types.Add<Node37>();
		this._types.Add<Node38>();
		this._types.Add<Node39>();
		this._types.Add<Node40>();
		this._types.Add<Node41>();
		this._types.Add<Node42>();
		this._types.Add<Node43>();
		this._types.Add<Node44>();
		this._types.Add<Node45>();
		this._types.Add<Node46>();
		this._types.Add<Node47>();
		this._types.Add<Node48>();
		this._types.Add<Node49>();
		this._types.Add<Node50>();
		this._types.Add<Node51>();
		this._types.Add<Node52>();
		this._types.Add<Node53>();
		this._types.Add<Node54>();
		this._types.Add<Node55>();
		this._types.Add<Node56>();
		this._types.Add<Node57>();
		this._types.Add<Node58>();
		this._types.Add<Node59>();
		this._types.Add<Node60>();
		this._types.Add<Node61>();
		this._types.Add<Node62>();
		this._types.Add<Node63>();
		this._types.Add<Node64>();
		this._types.Add<Node65>();
		this._types.Add<Node66>();
		this._types.Add<Node67>();
		this._types.Add<Node68>();
		this._types.Add<Node69>();
		this._types.Add<Node70>();
		this._types.Add<Node71>();
		this._types.Add<Node72>();
		this._types.Add<Node73>();
		this._types.Add<Node74>();
		this._types.Add<Node75>();
		this._types.Add<Node76>();
		this._types.Add<Node77>();
		this._types.Add<Node78>();
		this._types.Add<Node79>();
		this._types.Add<Node80>();
		this._types.Add<Node81>();
		this._types.Add<Node82>();
		this._types.Add<Node83>();
		this._types.Add<Node84>();
		this._types.Add<Node85>();
		this._types.Add<Node86>();
		this._types.Add<Node87>();
		this._types.Add<Node88>();
		this._types.Add<Node89>();
		this._types.Add<Node90>();
		this._types.Add<Node91>();
		this._types.Add<Node92>();
		this._types.Add<Node93>();
		this._types.Add<Node94>();
		this._types.Add<Node95>();
		this._types.Add<Node96>();
		this._types.Add<Node97>();
		this._types.Add<Node98>();
		this._types.Add<Node99>();
	}

	//I want a benchmark of all the crafting process types, with memory allocation as well.
	[Benchmark]
	public void Run() {
		this._types.AllocSort();
		this._currentTree = this._types.GetTypes();
	}

	//I want a benchmark of all the crafting process types, with memory allocation as well.
	[Benchmark]
	public void RunOptimized() {
		this._types.NoAllocSort();
		this._currentTree = this._types.GetTypes();
	}
}